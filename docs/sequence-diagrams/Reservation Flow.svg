<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3080px" preserveAspectRatio="none" style="width:2127px;height:3080px;background:#FFFFFF;" version="1.1" viewBox="0 0 2127 3080" width="2127px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="436" x="841.75" y="27.9951">WorkReserve Backend - Reservation Management Flow</text><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.5" y="162.9922"/><rect fill="#FFFFFF" height="1222.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="278.5234"/><rect fill="#FFFFFF" height="566.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="1587.7109"/><rect fill="#FFFFFF" height="793.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="2226.6328"/><rect fill="#FFFFFF" height="1164.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="307.6563"/><rect fill="#FFFFFF" height="508.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="1616.8438"/><rect fill="#FFFFFF" height="734.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="2255.7656"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1147" y="394.0547"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1147" y="1688.1094"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="510.5859"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="1138.8516"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="2699.4297"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="766.4531"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1022.3203"/><rect fill="#FFFFFF" height="132.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1862.9063"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="2284.8984"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="2582.8984"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1610.5" y="1255.3828"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1610.5" y="2815.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="1371.9141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="1804.6406"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="2066.9688"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="2932.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="423.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="539.7188"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="795.5859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1051.4531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1167.9844"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1284.5156"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1717.2422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1937.4375"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2314.0313"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2612.0313"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2728.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2845.0938"/><rect fill="none" height="903.4609" style="stroke:#000000;stroke-width:1.5;" width="2100.5" x="10" y="612.9844"/><rect fill="none" height="640.5938" style="stroke:#000000;stroke-width:1.5;" width="2080.5" x="20" y="868.8516"/><rect fill="none" height="598.4609" style="stroke:#000000;stroke-width:1.5;" width="2080.5" x="20" y="2429.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="278.5" x2="278.5" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="418.5" x2="418.5" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="816" x2="816" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1152" x2="1152" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1296" x2="1296" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1465" x2="1465" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1615" x2="1615" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1710" x2="1710" y1="73.5938" y2="3044.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2050.5" x2="2050.5" y1="73.5938" y2="3044.8906"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="30" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="37" y="62.292">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="30" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="37" y="3063.8857">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="229.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="236.5" y="62.292">JwtAuthFilter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="229.5" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="236.5" y="3063.8857">JwtAuthFilter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="337.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="344.5" y="62.292">ReservationController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="337.5" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="344.5" y="3063.8857">ReservationController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="743" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="750" y="62.292">ReservationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="743" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="750" y="3063.8857">ReservationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1092" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1099" y="62.292">UserRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1092" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1099" y="3063.8857">UserRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="1222" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1229" y="62.292">TimeSlotRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="1222" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1229" y="3063.8857">TimeSlotRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1380" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="1387" y="62.292">ReservationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1380" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="1387" y="3063.8857">ReservationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1560" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1567" y="62.292">ActivityService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1560" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1567" y="3063.8857">ActivityService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="1681" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1688" y="62.292">Cache</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="1681" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1688" y="3063.8857">Cache</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2010.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2017.5" y="62.292">Database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2010.5" y="3043.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2017.5" y="3063.8857">Database</text><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.5" y="162.9922"/><rect fill="#FFFFFF" height="1222.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="278.5234"/><rect fill="#FFFFFF" height="566.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="1587.7109"/><rect fill="#FFFFFF" height="793.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="414" y="2226.6328"/><rect fill="#FFFFFF" height="1164.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="307.6563"/><rect fill="#FFFFFF" height="508.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="1616.8438"/><rect fill="#FFFFFF" height="734.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="811" y="2255.7656"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1147" y="394.0547"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1147" y="1688.1094"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="510.5859"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="1138.8516"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291" y="2699.4297"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="766.4531"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1022.3203"/><rect fill="#FFFFFF" height="132.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="1862.9063"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="2284.8984"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1460" y="2582.8984"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1610.5" y="1255.3828"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1610.5" y="2815.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="1371.9141"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="1804.6406"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="2066.9688"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1705" y="2932.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="423.1875"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="539.7188"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="795.5859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1051.4531"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1167.9844"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1284.5156"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1717.2422"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="1937.4375"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2314.0313"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2612.0313"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2728.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="2045.5" y="2845.0938"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2120.5" x="0" y="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="104.1602" y2="104.1602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="107.1602" y2="107.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="160" x="980.25" y="93.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141" x="986.25" y="109.6606">Create Reservation</text><polygon fill="#181818" points="261.5,158.9922,271.5,162.9922,261.5,166.9922,265.5,162.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="267.5" y1="162.9922" y2="162.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="63.5" y="142.7935">POST /api/reservations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="63.5" y="157.9263">Authorization: Bearer &lt;token&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="325.5" y1="192.125" y2="192.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="325.5" x2="325.5" y1="192.125" y2="205.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="325.5" y1="205.125" y2="205.125"/><polygon fill="#181818" points="294.5,201.125,284.5,205.125,294.5,209.125,290.5,205.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="290.5" y="187.0591">validateJwtToken()</text><polygon fill="#181818" points="67.5,230.2578,57.5,234.2578,67.5,238.2578,63.5,234.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="277.5" y1="234.2578" y2="234.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="73.5" y="229.1919">Authentication successful</text><polygon fill="#181818" points="402,274.5234,412,278.5234,402,282.5234,406,278.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="408" y1="278.5234" y2="278.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="63.5" y="258.3247">POST /api/reservations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="63.5" y="273.4575">{timeSlotId, purpose}</text><polygon fill="#181818" points="799,303.6563,809,307.6563,799,311.6563,803,307.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="424" x2="805" y1="307.6563" y2="307.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="431" y="302.5903">createReservation(request)</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="351.9219" y2="351.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="351.9219" y2="364.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="364.9219" y2="364.9219"/><polygon fill="#181818" points="832,360.9219,822,364.9219,832,368.9219,828,364.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="828" y="331.7231">getCurrentUser()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="828" y="346.856">from SecurityContext</text><polygon fill="#181818" points="1135,390.0547,1145,394.0547,1135,398.0547,1139,394.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1141" y1="394.0547" y2="394.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="828" y="388.9888">findByEmail(currentUserEmail)</text><polygon fill="#181818" points="2033.5,419.1875,2043.5,423.1875,2033.5,427.1875,2037.5,423.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1157" x2="2039.5" y1="423.1875" y2="423.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1164" y="418.1216">SELECT * FROM users WHERE email = ?</text><polygon fill="#181818" points="1168,448.3203,1158,452.3203,1168,456.3203,1164,452.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1162" x2="2049.5" y1="452.3203" y2="452.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="1174" y="447.2544">User</text><polygon fill="#181818" points="832,477.4531,822,481.4531,832,485.4531,828,481.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1151" y1="481.4531" y2="481.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="838" y="476.3872">User</text><polygon fill="#181818" points="1279,506.5859,1289,510.5859,1279,514.5859,1283,510.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1285" y1="510.5859" y2="510.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="828" y="505.52">findById(timeSlotId)</text><polygon fill="#181818" points="2033.5,535.7188,2043.5,539.7188,2033.5,543.7188,2037.5,539.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="2039.5" y1="539.7188" y2="539.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="1308" y="534.6528">SELECT * FROM time_slots WHERE id = ?</text><polygon fill="#181818" points="1312,564.8516,1302,568.8516,1312,572.8516,1308,568.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1306" x2="2049.5" y1="568.8516" y2="568.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1318" y="563.7856">TimeSlot</text><polygon fill="#181818" points="832,593.9844,822,597.9844,832,601.9844,828,597.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1295" y1="597.9844" y2="597.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="838" y="592.9185">TimeSlot</text><path d="M10,612.9844 L74,612.9844 L74,620.1172 L64,630.1172 L10,630.1172 L10,612.9844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="903.4609" style="stroke:#000000;stroke-width:1.5;" width="2100.5" x="10" y="612.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="626.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="89" y="625.1948">[TimeSlot not found]</text><polygon fill="#181818" points="435,647.25,425,651.25,435,655.25,431,651.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="810" y1="651.25" y2="651.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="441" y="646.1841">throw ResourceNotFoundException("TimeSlot not found")</text><polygon fill="#181818" points="67.5,676.3828,57.5,680.3828,67.5,684.3828,63.5,680.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="413" y1="680.3828" y2="680.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="73.5" y="675.3169">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2110.5" y1="689.3828" y2="689.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108" x="15" y="699.5933">[TimeSlot exists]</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="724.3203" y2="724.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="724.3203" y2="737.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="737.3203" y2="737.3203"/><polygon fill="#181818" points="832,733.3203,822,737.3203,832,741.3203,828,737.3203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="828" y="719.2544">validateTimeSlotAvailability(timeSlot)</text><polygon fill="#181818" points="1448,762.4531,1458,766.4531,1448,770.4531,1452,766.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1454" y1="766.4531" y2="766.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="828" y="761.3872">findByTimeSlotIdAndStatus(timeSlotId, CONFIRMED)</text><polygon fill="#181818" points="2033.5,791.5859,2043.5,795.5859,2033.5,799.5859,2037.5,795.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="2039.5" y1="795.5859" y2="795.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="516" x="1477" y="790.52">SELECT * FROM reservations WHERE time_slot_id = ? AND status = 'CONFIRMED'</text><polygon fill="#181818" points="1481,820.7188,1471,824.7188,1481,828.7188,1477,824.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="2049.5" y1="824.7188" y2="824.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1487" y="819.6528">Existing reservations</text><polygon fill="#181818" points="832,849.8516,822,853.8516,832,857.8516,828,853.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1464" y1="853.8516" y2="853.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="838" y="848.7856">List&lt;Reservation&gt;</text><path d="M20,868.8516 L84,868.8516 L84,875.9844 L74,885.9844 L20,885.9844 L20,868.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="640.5938" style="stroke:#000000;stroke-width:1.5;" width="2080.5" x="20" y="868.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="881.9185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178" x="99" y="881.062">[TimeSlot already reserved]</text><polygon fill="#181818" points="435,903.1172,425,907.1172,435,911.1172,431,907.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="810" y1="907.1172" y2="907.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="441" y="902.0513">throw ConflictException("TimeSlot already reserved")</text><polygon fill="#181818" points="67.5,932.25,57.5,936.25,67.5,940.25,63.5,936.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="413" y1="936.25" y2="936.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="73.5" y="931.1841">400 Bad Request</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="2100.5" y1="945.25" y2="945.25"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="25" y="955.4604">[TimeSlot available]</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="980.1875" y2="980.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="980.1875" y2="993.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="993.1875" y2="993.1875"/><polygon fill="#181818" points="832,989.1875,822,993.1875,832,997.1875,828,993.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="828" y="975.1216">createReservationEntity(user, timeSlot, purpose)</text><polygon fill="#181818" points="1448,1018.3203,1458,1022.3203,1448,1026.3203,1452,1022.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1454" y1="1022.3203" y2="1022.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="828" y="1017.2544">save(reservation)</text><polygon fill="#181818" points="2033.5,1047.4531,2043.5,1051.4531,2033.5,1055.4531,2037.5,1051.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="2039.5" y1="1051.4531" y2="1051.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="492" x="1477" y="1046.3872">INSERT INTO reservations (user_id, time_slot_id, purpose, status, created_at)</text><polygon fill="#181818" points="1481,1076.5859,1471,1080.5859,1481,1084.5859,1477,1080.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="2049.5" y1="1080.5859" y2="1080.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1487" y="1075.52">Reservation ID</text><polygon fill="#181818" points="832,1105.7188,822,1109.7188,832,1113.7188,828,1109.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1464" y1="1109.7188" y2="1109.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="838" y="1104.6528">savedReservation</text><polygon fill="#181818" points="1279,1134.8516,1289,1138.8516,1279,1142.8516,1283,1138.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1285" y1="1138.8516" y2="1138.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="828" y="1133.7856">updateAvailability(timeSlotId, false)</text><polygon fill="#181818" points="2033.5,1163.9844,2043.5,1167.9844,2033.5,1171.9844,2037.5,1167.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="2039.5" y1="1167.9844" y2="1167.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="366" x="1308" y="1162.9185">UPDATE time_slots SET is_available = false WHERE id = ?</text><polygon fill="#181818" points="1312,1193.1172,1302,1197.1172,1312,1201.1172,1308,1197.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1306" x2="2049.5" y1="1197.1172" y2="1197.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1318" y="1192.0513">Success</text><polygon fill="#181818" points="832,1222.25,822,1226.25,832,1230.25,828,1226.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1295" y1="1226.25" y2="1226.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="838" y="1221.1841">Updated</text><polygon fill="#181818" points="1598.5,1251.3828,1608.5,1255.3828,1598.5,1259.3828,1602.5,1255.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1604.5" y1="1255.3828" y2="1255.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="367" x="828" y="1250.3169">logActivity(user, "RESERVATION_CREATED", reservationId)</text><polygon fill="#181818" points="2033.5,1280.5156,2043.5,1284.5156,2033.5,1288.5156,2037.5,1284.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1620.5" x2="2039.5" y1="1284.5156" y2="1284.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1627.5" y="1279.4497">INSERT INTO activities (user_id, action, resource_id, timestamp)</text><polygon fill="#181818" points="1631.5,1309.6484,1621.5,1313.6484,1631.5,1317.6484,1627.5,1313.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1625.5" x2="2049.5" y1="1313.6484" y2="1313.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1637.5" y="1308.5825">Activity logged</text><polygon fill="#181818" points="832,1338.7813,822,1342.7813,832,1346.7813,828,1342.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1614.5" y1="1342.7813" y2="1342.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="838" y="1337.7153">Success</text><polygon fill="#181818" points="1693,1367.9141,1703,1371.9141,1693,1375.9141,1697,1371.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1699" y1="1371.9141" y2="1371.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="828" y="1366.8481">evict("user-reservations", userId)</text><polygon fill="#181818" points="832,1397.0469,822,1401.0469,832,1405.0469,828,1401.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1709" y1="1401.0469" y2="1401.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="838" y="1395.981">Cache cleared</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="1430.1797" y2="1430.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="1430.1797" y2="1443.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="1443.1797" y2="1443.1797"/><polygon fill="#181818" points="832,1439.1797,822,1443.1797,832,1447.1797,828,1443.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="828" y="1425.1138">toResponse(savedReservation)</text><polygon fill="#181818" points="435,1468.3125,425,1472.3125,435,1476.3125,431,1472.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="815" y1="1472.3125" y2="1472.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="441" y="1467.2466">ReservationResponse</text><polygon fill="#181818" points="67.5,1497.4453,57.5,1501.4453,67.5,1505.4453,63.5,1501.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="418" y1="1501.4453" y2="1501.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="73.5" y="1496.3794">200 OK with reservation details</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2120.5" x="0" y="1544.0117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="1544.0117" y2="1544.0117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="1547.0117" y2="1547.0117"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="183" x="968.75" y="1533.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164" x="974.75" y="1549.5122">Get User Reservations</text><polygon fill="#181818" points="402,1583.7109,412,1587.7109,402,1591.7109,406,1587.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="408" y1="1587.7109" y2="1587.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="63.5" y="1582.645">GET /api/reservations/user</text><polygon fill="#181818" points="799,1612.8438,809,1616.8438,799,1620.8438,803,1616.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="424" x2="805" y1="1616.8438" y2="1616.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="431" y="1611.7778">getUserReservations()</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="1645.9766" y2="1645.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="1645.9766" y2="1658.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="1658.9766" y2="1658.9766"/><polygon fill="#181818" points="832,1654.9766,822,1658.9766,832,1662.9766,828,1658.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="828" y="1640.9106">getCurrentUser()</text><polygon fill="#181818" points="1135,1684.1094,1145,1688.1094,1135,1692.1094,1139,1688.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1141" y1="1688.1094" y2="1688.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="828" y="1683.0435">findByEmail(currentUserEmail)</text><polygon fill="#181818" points="2033.5,1713.2422,2043.5,1717.2422,2033.5,1721.2422,2037.5,1717.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1157" x2="2039.5" y1="1717.2422" y2="1717.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1164" y="1712.1763">SELECT * FROM users WHERE email = ?</text><polygon fill="#181818" points="1168,1742.375,1158,1746.375,1168,1750.375,1164,1746.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1162" x2="2049.5" y1="1746.375" y2="1746.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="1174" y="1741.3091">User</text><polygon fill="#181818" points="832,1771.5078,822,1775.5078,832,1779.5078,828,1775.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1151" y1="1775.5078" y2="1775.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="838" y="1770.4419">User</text><polygon fill="#181818" points="1693,1800.6406,1703,1804.6406,1693,1808.6406,1697,1804.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1699" y1="1804.6406" y2="1804.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="828" y="1799.5747">get("user-reservations", userId)</text><polygon fill="#181818" points="832,1829.7734,822,1833.7734,832,1837.7734,828,1833.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1709" y1="1833.7734" y2="1833.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="838" y="1828.7075">Cache miss</text><polygon fill="#181818" points="1448,1858.9063,1458,1862.9063,1448,1866.9063,1452,1862.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1454" y1="1862.9063" y2="1862.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="828" y="1857.8403">findByUserId(userId)</text><polygon fill="#181818" points="2033.5,1933.4375,2043.5,1937.4375,2033.5,1941.4375,2037.5,1937.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="2039.5" y1="1937.4375" y2="1937.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="1477" y="1886.9731">SELECT r.*, ts.*, room.* FROM reservations r</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1477" y="1902.106">JOIN time_slots ts ON r.time_slot_id = ts.id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="1477" y="1917.2388">JOIN rooms room ON ts.room_id = room.id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1477" y="1932.3716">WHERE r.user_id = ?</text><polygon fill="#181818" points="1481,1962.5703,1471,1966.5703,1481,1970.5703,1477,1966.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="2049.5" y1="1966.5703" y2="1966.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1487" y="1961.5044">List&lt;Reservation&gt;</text><polygon fill="#181818" points="832,1991.7031,822,1995.7031,832,1999.7031,828,1995.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1464" y1="1995.7031" y2="1995.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="838" y="1990.6372">List&lt;Reservation&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="2024.8359" y2="2024.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="2024.8359" y2="2037.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="2037.8359" y2="2037.8359"/><polygon fill="#181818" points="832,2033.8359,822,2037.8359,832,2041.8359,828,2037.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="828" y="2019.77">toResponseList(reservations)</text><polygon fill="#181818" points="1693,2062.9688,1703,2066.9688,1693,2070.9688,1697,2066.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1699" y1="2066.9688" y2="2066.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="828" y="2061.9028">put("user-reservations", userId, responseList)</text><polygon fill="#181818" points="832,2092.1016,822,2096.1016,832,2100.1016,828,2096.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1709" y1="2096.1016" y2="2096.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="838" y="2091.0356">Cached</text><polygon fill="#181818" points="435,2121.2344,425,2125.2344,435,2129.2344,431,2125.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="815" y1="2125.2344" y2="2125.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="441" y="2120.1685">List&lt;ReservationResponse&gt;</text><polygon fill="#181818" points="67.5,2150.3672,57.5,2154.3672,67.5,2158.3672,63.5,2154.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="418" y1="2154.3672" y2="2154.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="73.5" y="2149.3013">200 OK with reservations list</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2120.5" x="0" y="2182.9336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="2182.9336" y2="2182.9336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2120.5" y1="2185.9336" y2="2185.9336"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="160" x="980.25" y="2172.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141" x="986.25" y="2188.4341">Cancel Reservation</text><polygon fill="#181818" points="402,2222.6328,412,2226.6328,402,2230.6328,406,2226.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="408" y1="2226.6328" y2="2226.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="63.5" y="2221.5669">DELETE /api/reservations/{id}</text><polygon fill="#181818" points="799,2251.7656,809,2255.7656,799,2259.7656,803,2255.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="424" x2="805" y1="2255.7656" y2="2255.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="431" y="2250.6997">cancelReservation(id)</text><polygon fill="#181818" points="1448,2280.8984,1458,2284.8984,1448,2288.8984,1452,2284.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1454" y1="2284.8984" y2="2284.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="828" y="2279.8325">findById(id)</text><polygon fill="#181818" points="2033.5,2310.0313,2043.5,2314.0313,2033.5,2318.0313,2037.5,2314.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="2039.5" y1="2314.0313" y2="2314.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1477" y="2308.9653">SELECT * FROM reservations WHERE id = ?</text><polygon fill="#181818" points="1481,2339.1641,1471,2343.1641,1481,2347.1641,1477,2343.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="2049.5" y1="2343.1641" y2="2343.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1487" y="2338.0981">Reservation</text><polygon fill="#181818" points="832,2368.2969,822,2372.2969,832,2376.2969,828,2372.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1464" y1="2372.2969" y2="2372.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="838" y="2367.231">Reservation</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="2401.4297" y2="2401.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="2401.4297" y2="2414.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="2414.4297" y2="2414.4297"/><polygon fill="#181818" points="832,2410.4297,822,2414.4297,832,2418.4297,828,2414.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="828" y="2396.3638">validateUserOwnership(reservation, currentUser)</text><path d="M20,2429.4297 L84,2429.4297 L84,2436.5625 L74,2446.5625 L20,2446.5625 L20,2429.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="598.4609" style="stroke:#000000;stroke-width:1.5;" width="2080.5" x="20" y="2429.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="2442.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="99" y="2441.6401">[User doesn't own reservation]</text><polygon fill="#181818" points="435,2463.6953,425,2467.6953,435,2471.6953,431,2467.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="810" y1="2467.6953" y2="2467.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="441" y="2462.6294">throw AccessDeniedException()</text><polygon fill="#181818" points="67.5,2492.8281,57.5,2496.8281,67.5,2500.8281,63.5,2496.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="413" y1="2496.8281" y2="2496.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="73.5" y="2491.7622">403 Forbidden</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="2100.5" y1="2505.8281" y2="2505.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="25" y="2516.0386">[User owns reservation]</text><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="863" y1="2540.7656" y2="2540.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="863" x2="863" y1="2540.7656" y2="2553.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="822" x2="863" y1="2553.7656" y2="2553.7656"/><polygon fill="#181818" points="832,2549.7656,822,2553.7656,832,2557.7656,828,2553.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="828" y="2535.6997">reservation.setStatus(CANCELLED)</text><polygon fill="#181818" points="1448,2578.8984,1458,2582.8984,1448,2586.8984,1452,2582.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1454" y1="2582.8984" y2="2582.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="828" y="2577.8325">save(reservation)</text><polygon fill="#181818" points="2033.5,2608.0313,2043.5,2612.0313,2033.5,2616.0313,2037.5,2612.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1470" x2="2039.5" y1="2612.0313" y2="2612.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="1477" y="2606.9653">UPDATE reservations SET status = 'CANCELLED', updated_at = NOW()</text><polygon fill="#181818" points="1481,2637.1641,1471,2641.1641,1481,2645.1641,1477,2641.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="2049.5" y1="2641.1641" y2="2641.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1487" y="2636.0981">Success</text><polygon fill="#181818" points="832,2666.2969,822,2670.2969,832,2674.2969,828,2670.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1464" y1="2670.2969" y2="2670.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="838" y="2665.231">Updated reservation</text><polygon fill="#181818" points="1279,2695.4297,1289,2699.4297,1279,2703.4297,1283,2699.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1285" y1="2699.4297" y2="2699.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="828" y="2694.3638">updateAvailability(timeSlotId, true)</text><polygon fill="#181818" points="2033.5,2724.5625,2043.5,2728.5625,2033.5,2732.5625,2037.5,2728.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="2039.5" y1="2728.5625" y2="2728.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="1308" y="2723.4966">UPDATE time_slots SET is_available = true WHERE id = ?</text><polygon fill="#181818" points="1312,2753.6953,1302,2757.6953,1312,2761.6953,1308,2757.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1306" x2="2049.5" y1="2757.6953" y2="2757.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1318" y="2752.6294">Success</text><polygon fill="#181818" points="832,2782.8281,822,2786.8281,832,2790.8281,828,2786.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1295" y1="2786.8281" y2="2786.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="838" y="2781.7622">Updated</text><polygon fill="#181818" points="1598.5,2811.9609,1608.5,2815.9609,1598.5,2819.9609,1602.5,2815.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1604.5" y1="2815.9609" y2="2815.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="385" x="828" y="2810.895">logActivity(user, "RESERVATION_CANCELLED", reservationId)</text><polygon fill="#181818" points="2033.5,2841.0938,2043.5,2845.0938,2033.5,2849.0938,2037.5,2845.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1620.5" x2="2039.5" y1="2845.0938" y2="2845.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="1627.5" y="2840.0278">INSERT INTO activities (user_id, action, resource_id, timestamp)</text><polygon fill="#181818" points="1631.5,2870.2266,1621.5,2874.2266,1631.5,2878.2266,1627.5,2874.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1625.5" x2="2049.5" y1="2874.2266" y2="2874.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1637.5" y="2869.1606">Activity logged</text><polygon fill="#181818" points="832,2899.3594,822,2903.3594,832,2907.3594,828,2903.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1614.5" y1="2903.3594" y2="2903.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="838" y="2898.2935">Success</text><polygon fill="#181818" points="1693,2928.4922,1703,2932.4922,1693,2936.4922,1697,2932.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821" x2="1699" y1="2932.4922" y2="2932.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="828" y="2927.4263">evict("user-reservations", userId)</text><polygon fill="#181818" points="832,2957.625,822,2961.625,832,2965.625,828,2961.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="826" x2="1709" y1="2961.625" y2="2961.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="838" y="2956.5591">Cache cleared</text><polygon fill="#181818" points="435,2986.7578,425,2990.7578,435,2994.7578,431,2990.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="429" x2="815" y1="2990.7578" y2="2990.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="441" y="2985.6919">Success</text><polygon fill="#181818" points="67.5,3015.8906,57.5,3019.8906,67.5,3023.8906,63.5,3019.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="418" y1="3019.8906" y2="3019.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="73.5" y="3014.8247">204 No Content</text><!--SRC=[vLZTRzis47_NNq7u9NRX9CNM9wFfuDXAvown2zjPNme4ZCGaH6N98oadMR7_VKVgwoXHYj9YJokQX1_7-_pnU2V5LSJ8bqHyMpF9n86HSnfyOt58ZacsGXLFOd95OthFTYnMv29A7ZrlJuNY0TzJM1dC8Wux0q8boORszgT7DKtLmmMF51E6gfhQb4ZaB8cLIA8eFm4xXvaIKIlz1WOyO2NnvX3OjDT0kcRxH7ALY6T3LopPX5k-OvieKJLYlDogHUsCLgH9FmqKFt3rZ5Kkr-fgpsZma96OaRqvfuhUKfdjpyyzx-oCp0IZYbdHEplpl2mmvFW3Slw4V5vjjkIKxlcfgEZbrrZJ98B_RUOJSiweO8AyLmbWuuD7jR9Q28fZDQpBED28Xq0DCDZgyyDHZJXJRM8EmO07cTOo3G8cvLqQUI5pYKGs5V1ej-YxokEt2CTadmg84_kdigJ4brUC2hOGaGa9Z5EHJuU2_PKogKOs2nq-BnzO3EwPcgL2WBeQTCFHr_XE93koOK4g8EmQxUn9uQC5E2VaZiVX-RE_epmQ1XKJiu3absWk1fhB_7n2DlwbFzkID-HYlReYAUnAykLtV-qJfbcGC_9RnGLGD3ydnvO2UeHZ03IL36nbdR1K2Hk6Br9Xt28SLl51DbcN3a_SjcaUDn982WDvs6QThKKngrbfIyIMkWvOodeqKkKAYU7dBadZq2FmhtI6XLpr8997FKzI4R1beYxq0VyfO7k3k46Jss1KyiiWYsxJkxVl230XXel78bafIDWJbqhQkY3ZYXjRq4yF01DwooD0QXcdJBIB1mxijepgD0utYgfK3l5DdAsM5ulrbJ_Fs5cNoVYnuDyUT7pFyx2NEBZ9042copcHHZfCZqgXHxPGYBYUvmYfJF6rktXyRuaof3PSR5snHo-1mNkKFZxKJrlsPbfX_D084b3ud2l0CXYz12L8AdSH3vGBGdM6EP8wqFGMIeCGDatQCyGsfcW6aeWrTUjAf3uaV42LpafZKY2ZpD2LLcrSimX9Uc1359tgdDl3BbGjbXj_lOK_svMDAQCS86biuQhKSPmZQvmR5zvGvP2VuyC9CFnOB-ObNHDTxGZJ7WWH7nUJXWjSJhKJOxhNYS2P0FJrlQCH3f8x5HQxhlnz_Na-tVeuSM_yBU7ofeGJN5WZnSxeFTnh6xB9geaNVDkUyA-D8qBNUQUnBjUY8cz2ekI-cEVe7wnzGE2Vq-rYjRoPhNrmp7mmnbZKRsF3Sbmw5fjepGLlccrpXi6j5vFOo3ClK8buWFTktmlHbe75H5jwx_OSuc1fZ1tV4JYNvIw_cyfvGXXKsseuq0OVumiEFjPhJkTcHNUnR6QsUjbI4EaAsMcZpQ4pEQe4XdlGY0thrtdqGiQtUf2CHri6mDvovlfV8DUl_Y2FN3rWy04V1NTIjl4rvRDv5tIz0J-w6_d8bAa2iOAorf1KLdpq7RNxgGvExqeT2ksiwgmO37-qIFzVbEFvvG3Rkwz63T2jLs77uR8syEzrr8ZNHiAm8QXyhbhgFt7o1XAKrBz5aknENFMW-1f_MYsM-861_wib7AuLYS28XpcrPYVDRqqAEtgOaHb9cZ0BcJZ9ysTRs2fZcpMW7SE-bQFhGVUwqubcWiiZEN91O9zsGi2y32Mxte08ky1WtVwwgONs3PFr1NvDvf8a0jQUAr-PBoOq3bZKySMaKd4Eo8DofPcZllFm5LyJZ43yDO67FN9KhM7chxahxRrI7-ZYkh8FQ5lek-5QT9qw7QmUOqYB3toFKGi5TfLkHrc7RTwMC64oFb8aUOonXI_ssbDJMSnPp1dgipjxwb-XdnQtF0nPdFNKHW4GBDib8niHpObaAc-8PzFbpB-yB9fWxvLjJh-cEQ-qBGJeMXkrnOKQH-EyxjUj3EmiLr-6etwjCgxM-ZR7UMdTS61dU_oZ7OiIAQlPqgZVVxXHqSoRVKgBqzhxawRZ-lKbNJs9zpEzI04CTpVIMe__Lrr8YqDVx3wQVktLTNHq7DvFTHgE7g5NX-7iBZgoNOink1beUKxr9qHYFax7ockh-NMj_oy0]--></g></svg>